## Запуск
В терминале: 
cd в директорию, куда хотите склонировать репозиторий.
После этого:
```
git clone https://github.com/grihabor/mashgraph
cd mashgraph/task_02
```
В текущую директорию положите папку с проектом (template) и папку с данными (data).
Все готово к тому, чтобы использовать make: 
```make all``` - соберет проект, обучит и протестирует классификатор.

## Описание
### Make
**make cross**:
  * выполняет сборку проекта
  * в цикле 
    - генерирует данные (prob = 0.9)
    - обучает классификатор
    - тестирует классификатор
    - записывает результат в output/results.txt
  * с помощью скрипта average.py подсчитывает средний результат и выводит на экран  
    
**make tar**:
  * выполняет сборку проекта
  * обучает классификатор на всех данных
  * делает make clean в папке проекта
  * кладет модель в папку проекта
  * архивирует папку проекта

**make all**:
  * выполняет сборку проекта
  * обучает классификатор на данных в data/multiclass/train
  * вычисляет результаты классификации для данных в data/multiclass test
  * показывает точность классификатора


### Скрипты
Все вспомогательные скрипты лежат в папочке util.  
1. Скрипт **gendata.py \<prob\>** относит каждый файл исходной выборки к тренировочной с вероятностью prob, а к тестовой - с вероятностью 1 - prob. Таким образом, данные делятся примерно в таком отношении:  
 <p align="center">
   <b><i>тренировочная / тестовая = prob / (1 - prob)</i></b>
 </p>
2. Скрипт **average.py \<filename\>** подсчитывает среднюю точность по записям в файле.  
3. Скрипт **get_params.py \<filename\>** находит и выводит глобальные константы.
  
## Обновления
23.10.16 - с помощью **make all** теперь можно тестить и на выданных тестовых данных (без генерации), прошлая версия **make all** теперь называется **make cross**

18.10.16 - Добавил сценарий **make tar**

17.10.16 - Теперь скрипт **gendata.py** работает не с каталогом base, а с файлом labels.txt, в котором хранит полную информацию об оригинальных лейблах.  
Этот переход никак не должен сказаться на людях, которые пользовались прошлой версией скрипта и решили перейти на новую, однако, если все-таки возникнут проблемы, пишите на почту **grihabor@mail.ru**
